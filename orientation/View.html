<!DOCTYPE html>
<html lang="en">
<head>
  <title>Device Orientation Demo</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    #enableMotion { padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>Device Orientation Example</h1>
  <button id="enableMotion">Enable Motion</button>
  <pre id="output">Waiting for motion data...</pre>

  <script>
    function handleOrientation(event) {
      const { alpha, beta, gamma } = event;
      document.getElementById('output').innerText =
        `alpha: ${alpha?.toFixed(1)}\nbeta: ${beta?.toFixed(1)}\ngamma: ${gamma?.toFixed(1)}`;
    }

    if (window.DeviceOrientationEvent) {
      if (typeof DeviceOrientationEvent.requestPermission === 'function') {
        document.getElementById('enableMotion').addEventListener('click', async () => {
          try {
            const permission = await DeviceOrientationEvent.requestPermission();
            if (permission === 'granted') {
              window.addEventListener('deviceorientation', handleOrientation);
            }
          } catch (e) {
            console.error(e);
          }
        });
      } else {
        window.addEventListener('deviceorientation', handleOrientation);
      }
    } else {
      document.getElementById('output').innerText = 'Device Orientation not supported.';
    }
  </script>
</body>
</html>
