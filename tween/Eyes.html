<!DOCTYPE html>
<html>
<head>
    <title>View</title>

    <style>
        body {
            margin: 0;
            box-sizing: border-box;
            width:  100%;
            height: 100%;
        }
        svg {
            width:  100px;
            height: 100px;
            position: absolute;
        }
        #leftEye {
            top:  100px;
            left: 100px;
        }
        #rightEye {
            top:  100px;
            left: 250px;
        }
    </style>
</head>
<body>

<h1 style="margin-left: 3em;">I see where you go...</h1>

<script>

    const eyeView = id => `
        <svg id="${id}" version="1.1" viewBox="-3 -3 289.4646 289.4646" xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns="http://www.w3.org/2000/svg">
        <defs/>
        <g>
            <ellipse cx="141.7323" cy="141.7323" rx="141.7323" ry="141.7323" stroke="#000000" stroke-opacity="1"
                     stroke-width="2" fill-opacity="1" fill="#FFFFFF"/>
        </g>
        <g>
            <ellipse cx="141.7323" cy="141.7323" rx="56.69292" ry="56.69292" fill="#000000" fill-opacity="1"/>
            <ellipse cx="127.5591" cy="120.4725" rx="14.17323" ry="21.25985" fill="#FFFFFF" fill-opacity="1"
                     transform="rotate(45 127.5591 120.4725)"/>
        </g>
    </svg>
    `;

    document.writeln(eyeView('leftEye'));
    document.writeln(eyeView('rightEye'));

    const v  = 80; // versatz - Abstand des Pupillenzentrums vom Augenzentrum in SVG units

    const eyeBinding = eyeId => {
        const rect = document.querySelectorAll(eyeId + " ellipse")[0].getBoundingClientRect();
        const iris = document.querySelectorAll(eyeId + " g")[1];

        const xo = rect.x + rect.width/2;  // x-origin
        const yo = rect.y + rect.height/2; // y-origin

        return evt => {
            const xm = evt.clientX - xo; // the normalized x/y coords to work with
            const ym = evt.clientY - yo;

            let ye = Math.sqrt( v*v / (1 + ( (xm*xm) / (ym*ym) ))  ) * (ym >= 0 ? 1 : -1);
            let xe = ye * xm / ym ;
            // out.innerText = `xm:${xm}, ym:${ym}, xe:${xe}, ye:${ye}`;

            iris.style.transform = `translateX(${xe}px) translateY(${ye}px)`;
        }
    };

    const leftListener  = eyeBinding('#leftEye');
    const rightListener = eyeBinding('#rightEye');

    document.onmousemove = evt => { // highlander pattern
        leftListener(evt);
        rightListener(evt);
    }

</script>

<div id="out"></div>
</body>
</html>
